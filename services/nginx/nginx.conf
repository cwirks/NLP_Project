# # Define the user that will own and run the Nginx server
# user  nginx;
# # Define the number of worker processes; recommended value is the number of
# # cores that are being used by your server
# worker_processes  1;
 
# # Define the location on the file system of the error log, plus the minimum
# # severity to log messages for
# error_log  /var/log/nginx/error.log warn;
# # Define the file that will store the process ID of the main NGINX process
# pid /var/run/nginx.pid;
 
# # events block defines the parameters that affect connection processing.
# events {
# # Define the maximum number of simultaneous connections that can be opened by a worker process
# worker_connections  1024;
# }

upstream nlp_project {
    server web:5000;
}

server {

    listen 80;
    # server_name nlp_project;

    location / {
        proxy_pass http://nlp_project;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header Host $host;
        proxy_redirect off;
    }

}
 
# # Define the parameters for a specific virtual host/server
# server {
# # Define the directory where the contents being requested are stored
# root /usr/share/nginx/html/NLP_Project;
 
# # Define the default page that will be served If no page was requested
# # (ie. if www.kennedyfamilyrecipes.com is requested)
# index /templates/index.html;
 
# # Define the server name, IP address, and/or port of the server
# listen 80;
# # server_name xxx.yyy.zzz.aaa
 
# # Define the specified charset to the “Content-Type” response header field
# charset utf-8;
 
# # Configure NGINX to deliver static content from the specified folder
# location /static {
# alias /usr/share/nginx/html;
# }
 
# # Configure NGINX to reverse proxy HTTP requests to the upstream server (Gunicorn (WSGI server))
# location / {
# # Define the location of the proxy server to send the request to
# proxy_pass http://web:5000;
 
# # Redefine the header fields that NGINX sends to the upstream server
# proxy_set_header Host $host;
# proxy_set_header X-Real-IP $remote_addr;
# proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
 
# # Define the maximum file size on file uploads
# client_max_body_size 5M;
# }
# }